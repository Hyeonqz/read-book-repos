# 5장 - 안정 해시 설계
수평적 규모 확장성을 달성하기 위해서는 요청 또는 데이터를 서버에 균등하게 나누는 것이 중요하다 <br>
안정 해시는 이 목표를 달성하기 위해 보편적으로 사용하는 기술이다 <br>

### 해시 키 재배치 문제
N 개의 캐시 서버가 있다고 하자. 이 서버들에 부하를 균등하게 나누는 보편적 방법은 아래의 해시 함수를 사용하는 것이다 <br>
ex) serverIndex = hash(key) % N; <br>

4개의 캐시 서버가 있다고 하자(0,1,2,3) <br>
특정한 키가 보관된 서버를 알기 위해 나머지 연산을 % 4를 적용하여 나머지에 따라 서버에 접속해야 한다 <br>

위 방법은 서버 풀의 크기가 고정되어 있을 때, 그리고 데이터 분포가 균등할 때는 잘 동작한다. 하지만 서버가 추가되거나 기존 서버가 삭제되면 문제가 생긴다 <br>
ex) 1번 서버 장애 발생시 서버의 개수는 3개로 줄어든다. 그리고 나누기 값에 따라 서버 인덱스에 저장하는 것이 바뀔 것이다 <br>

위 문제를 '안정 해시' 를 통해 해결할 수 있다 <br>
안정해시는 해시 테이블 크기가 조정될 때 평균적으로 오직 k/n 개의 키만 재배치하는 해시 기술이다 <br>
여기서 k 는 키의 개수이고, n 은 슬롯의 개수 이다 <br>

### 해시 공간과 해시 링
해시 함수로 SHA-1 을 사용한다고 보자 <br>

-> 요번 장은 잘 이해를 못했음 나중에 다시 읽어보자..